<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Add a Community Resource</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script language="JavaScript">
    function createResource() {
    	//re visit and finish when working on front end
        var resource= new Resource();
        var promise = resource.create();
    
        resourceID = null;
        promise.success(function(data) {
            console.log("attempt: " + data.success)
            resourceID = data;
        });
    
        return resourceID;
    }

    function Resource(categoryID,name,phone,address,city,state,zip,description,eligibility,intakeProcedure,documents,fees,languages,services,website) {
        this.categoryID = categoryID;
        this.name = name;
        this.phone = phone;
        this.address = address;
        this.city = city;
        this.state = state;
        this.zip = zip;
        this.description = description;
        this.eligibility = eligibility;
        this.intakeProcedure = intakeProcedure;
        this.documents = documents;
        this.fees = fees;
        this.languages = languages;
        this.services = services;
        this.website = website;

        this.create = function() {
            return $.ajax({
                url : "http://localhost/laaRest/api/resource",
                data : {
                    'categoryID' : this.categoryID,
                    'name' : this.name,
                    'phone' : this.phone,
                    'address' : this.address,
                    'city' : this.city,
                    'state' : this.state,
                    'zip' : this.zip,
                    'description' : this.description,
                    'eligibility' : this.eligibility,
                    'intakeProcedure' : this.intakeProcedure,
                    'documents' : this.documents,
                    'fees' : this.fees,
                    'languages' : this.languages,
                    'services' : this.services,
                    'website' : this.website,
                },
                context : document.body,
                async : false,
                type : 'POST',
                dataType : "jsonp",
                success : function(data) {
                    console.log("Data Success");
                    console.log(data);
                },
                error : function(jqXHR, textStatus, errorThrown) {
                    console.log("Status: " + textStatus);
                    console.log("Error: " + errorThrown);
                }
            });
        }
    }
</script>
  </head>
  <body>
    <section id="login">
    <div class="container">
        <div class="form-wrap">
            <h1>Add a Community Resource</h1>
            <br>
            <form class="form-horizontal" role="form">
                <div class="form-group">
                    <label for="category" class="col-sm-2 control-label">Category:</label>
                    <div class="col-sm-10">
                        <input type="category" name="category" id="category" class="form-control">
                    </div>
                    <hr>
                    <label for="name" class="col-sm-2 control-label">Name:</label>
                    <div class="col-sm-10">
                        <input type="name" name="name" id="name" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="phone" class="col-sm-2 control-label">Phone:</label>
                    <div class="col-sm-10">
                        <input type="phone" name="phone" id="phone" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="email" class="col-sm-2 control-label">Email:</label>
                    <div class="col-sm-10">
                        <input type="email" name="email" id="email" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="address" class="col-sm-2 control-label">Address:</label>
                    <div class="col-sm-10">
                        <input type="address" name="address" id="address" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="city" class="col-sm-2 control-label">City:</label>
                    <div class="col-sm-10">
                        <input type="city" name="city" id="city" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="state" class="col-sm-2 control-label">State:</label>
                    <div class="col-sm-10">
                        <input type="state" name="state" id="state" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="description" class="col-sm-2 control-label">Description:</label>
                    <div class="col-sm-10">
                        <input type="description" name="description" id="description" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="zip" class="col-sm-2 control-label">Zip:</label>
                    <div class="col-sm-10">
                        <input type="zip" name="zip" id="zip" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="serviceHours" class="col-sm-2 control-label">Service Hours:</label>
                    <div class="col-sm-10">
                        <input type="serviceHours" name="serviceHours" id="serviceHours" class="form-control">
                    </div>
                    <hr><hr>
                     <label for="eligibility" class="col-sm-2 control-label">Eligibility:</label>
                    <div class="col-sm-10">
                        <input type="eligibility" name="eligibility" id="eligibility" class="form-control">
                    </div>
                    <hr><hr>
                     <label for="intakeProcedure" class="col-sm-2 control-label">Intake Procedure:</label>
                    <div class="col-sm-10">
                        <input type="intakeProcedure" name="intakeProcedure" id="intakeProcedure" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="documents" class="col-sm-2 control-label">Documents:</label>
                    <div class="col-sm-10">
                        <input type="documents" name="documents" id="documents" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="fees" class="col-sm-2 control-label">Fees:</label>
                    <div class="col-sm-10">
                        <input type="fees" name="fees" id="fees" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="languages" class="col-sm-2 control-label">Languages:</label>
                    <div class="col-sm-10">
                        <input type="languages" name="languages" id="languages" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="services" class="col-sm-2 control-label">Services:</label>
                    <div class="col-sm-10">
                        <input type="services" name="services" id="services" class="form-control">
                    </div>
                    <hr><hr>
                    <label for="website" class="col-sm-2 control-label">Website:</label>
                    <div class="col-sm-10">
                        <input type="website" name="website" id="website" class="form-control">
                    </div>
                    <hr>
                </div>
                <input type="submit" id="btn-login" class="btn btn-custom btn-lg btn-block" value="Add Resource" onClick="event.preventDefault();createResource();">
            </form>
        </div>
    </div> <!-- /.container -->
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>